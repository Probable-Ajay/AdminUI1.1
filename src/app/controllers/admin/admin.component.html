<!-- Content Wrapper. Contains page content -->
<div>
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      <i class="fa fa-user" aria-hidden="true"></i> PriceTalk Customer
      Management
    </h1>
  </section>

  <!-- Main content -->
  <form #myForm="ngForm">
    <section class="content shopPrice">
      <div class="row" style="margin-bottom: 0; overflow-y: auto;">
        <div class="col-xs-12">
          <div class="nav-tabs-custom">
            <div class="row newcustomer">
              <h3>New Customer</h3>
            </div>

            <div class="tab-content">
              <h4>Company Information</h4>
              <div class="tab-pane active" id="companyInfo">
                <div class="row" style="margin-top: 20px">
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Company Name"
                        [(ngModel)]="user.companyInfo.companyName"
                        name="companyName"
                        required
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Company Address"
                        [(ngModel)]="user.companyInfo.companyAddress"
                        name="companyAddress"
                        required
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <mat-label>Country</mat-label>
                      <mat-select
                        name="country"
                        [(ngModel)]="user.companyInfo.countries"
                        required
                      >
                        <mat-option
                          *ngFor="let country of countries"
                          [value]="country"
                        >
                          {{ country }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row" style="margin-top: 20px">
                  <div class="col-sm-4">
                    <mat-form-field>
                      <mat-label>Company Type</mat-label>
                      <mat-select
                        placeholder="Company Type"
                        name="companyType"
                        [(ngModel)]="user.companyInfo.companyType"
                        required
                      >
                        <mat-option
                          *ngFor="let ctype of companyType"
                          [value]="ctype"
                        >
                          {{ ctype }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <mat-label>Business Type</mat-label>
                      <mat-select
                        placeholder="Business Type"
                        name="businessType"
                        [(ngModel)]="user.companyInfo.businessType"
                        required
                      >
                        <mat-option
                          *ngFor="let businessType of businessTypes"
                          [value]="businessType"
                        >
                          {{ businessType }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Phone"
                        name="companyContact"
                        [(ngModel)]="user.companyInfo.companyContact"
                        required
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="row" style="margin-top: 20px">
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        type="email"
                        matInput
                        placeholder="Email ID"
                        name="emailID"
                        [(ngModel)]="user.companyInfo.emailID"
                        required
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>

              <!--Company Info end -->

              <!--Contact Information -->
              <h4>Contact Information</h4>
              <div class="tab-pane active" id="customerInfo">
                <div class="row" style="margin-top: 20px">
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="First Name"
                        name="firstName"
                        [(ngModel)]="user.userInfo.firstName"
                        required
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Middle Name"
                        name="middleName"
                        [(ngModel)]="user.userInfo.middleName"
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Last Name"
                        name="lastName"
                        [(ngModel)]="user.userInfo.lastName"
                        required
                      />
                    </mat-form-field>
                  </div>
                </div>

                <div class="row" style="margin-top: 20px">
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Contact Number"
                        name="contactNumber"
                        [(ngModel)]="user.userInfo.contactNumber"
                        required
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        type="email"
                        matInput
                        placeholder="Email ID"
                        name="loginName"
                        [(ngModel)]="user.userInfo.loginName"
                        required
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-4">
                    <mat-form-field>
                      <input
                        matInput
                        placeholder="Designation/Role"
                        name="designationRole"
                        [(ngModel)]="user.userInfo.designationRole"
                        required
                      />
                    </mat-form-field>
                  </div>
                </div>
                <!-- <div class="row" style="margin-top: 20px">
                  <div class="col-sm-8">
                    <mat-checkbox formControlName="cloneMainUser"></mat-checkbox>
                    <label for="cloneMainUser" style="font-weight: normal">Clone Main User Attributes</label>
                  </div>
                </div> -->
              </div>
              <!--Contact Information end -->

              <h4><b>Access To</b></h4>
              <div class="tab-pane active" id="userAccessInfo">
                <div class="row" style="margin-top: 20px;">
                  <ng-container>
                    <mat-table
                      [dataSource]="dataSourceAccess"
                      class="mat-elevation-z8"
                    >
                      <ng-container matColumnDef="name">
                        <mat-header-cell *matHeaderCellDef>
                          Functionality Access
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element">
                          {{ element.name }}
                        </mat-cell>
                      </ng-container>
                      <ng-container matColumnDef="isSubscribed">
                        <mat-header-cell *matHeaderCellDef>
                          Subscribed
                        </mat-header-cell>
                        <mat-cell *matCellDef="let element; let index = index">
                          <!-- {{ element.isSubscribed }} -->
                          <mat-slide-toggle
                            id="{{ 'toggle_' + index }}"
                            class="tp-margin"
                            name="{{ 'enableFeature_' + i }}"
                            [(ngModel)]="
                              user.userAccess.accessInfo[index].isSubscribed
                            "
                          ></mat-slide-toggle>
                        </mat-cell>
                      </ng-container>
                      <ng-container matColumnDef="readAccess">
                        <mat-header-cell *matHeaderCellDef
                          >Read</mat-header-cell
                        >
                        <mat-cell *matCellDef="let element; let index = index">
                          <mat-checkbox
                            id="{{ 'read_' + index }}"
                            [checked]="element.readAccess"
                            [(ngModel)]="
                              user.userAccess.accessInfo[index].readAccess
                            "
                            name="{{ 'readAccess_' + index }}"
                            [disabled]="
                              !user.userAccess.accessInfo[index].isSubscribed
                            "
                          >
                          </mat-checkbox>
                        </mat-cell>
                      </ng-container>
                      <ng-container matColumnDef="writeAccess">
                        <mat-header-cell *matHeaderCellDef
                          >Write</mat-header-cell
                        >
                        <mat-cell *matCellDef="let element; let index = index">
                          <mat-checkbox
                            id="{{ 'write_' + index }}"
                            [checked]="element.writeAccess"
                            [(ngModel)]="
                              user.userAccess.accessInfo[index].writeAccess
                            "
                            name="{{ 'writeAccess_' + index }}"
                            [disabled]="
                              !user.userAccess.accessInfo[index].isSubscribed
                            "
                          >
                          </mat-checkbox>
                        </mat-cell>
                      </ng-container>

                      <mat-header-row
                        *matHeaderRowDef="displayedColumns"
                      ></mat-header-row>
                      <mat-row
                        *matRowDef="let row; columns: displayedColumns"
                      ></mat-row>
                    </mat-table>
                  </ng-container>
                  <!-- </div> -->
                </div>
              </div>

              <div class="row" style="margin-top: 20px;">
                <h4><b>Origin and Destinations</b></h4>
                <!-- <div class="col-sm-12"> -->
                <ng-container>
                  <mat-table
                    [dataSource]="dataSourceONDs"
                    class="mat-elevation-z8"
                  >
                    <!-- Checkbox Column -->
                    <ng-container matColumnDef="select">
                      <mat-header-cell *matHeaderCellDef>
                        <mat-checkbox
                          (change)="OnSelectAll($event, index, row)"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="
                            selection.hasValue() && !isAllSelected()
                          "
                          [aria-label]="checkboxLabel()"
                          name="selectAll"
                        >
                        </mat-checkbox>
                        <mat-label>Select All</mat-label>
                      </mat-header-cell>
                      <mat-cell *matCellDef="let row; let index = index">
                        <mat-checkbox
                          (change)="OnSelect($event, index, row)"
                          [checked]="selection.isSelected(row)"
                          [aria-label]="checkboxLabel(row)"
                          name="selectOND"
                        >
                        </mat-checkbox>
                      </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="Origin">
                      <mat-header-cell *matHeaderCellDef
                        >Origin</mat-header-cell
                      >
                      <mat-cell *matCellDef="let element; let index = index"
                        >{{ element.Origin }}
                      </mat-cell>
                    </ng-container>
                    <ng-container matColumnDef="Destination">
                      <mat-header-cell *matHeaderCellDef
                        >Destination</mat-header-cell
                      >
                      <mat-cell *matCellDef="let element; let index = index"
                        >{{ element.Destination }}
                      </mat-cell>
                    </ng-container>

                    <mat-header-row
                      *matHeaderRowDef="displayedColumnsONDs"
                    ></mat-header-row>
                    <mat-row
                      *matRowDef="let row; columns: displayedColumnsONDs"
                    ></mat-row>
                  </mat-table>
                </ng-container>
                <!-- </div> -->
              </div>

              <div class="row" style="margin-top: 20px">
                <div class="col-sm-10">
                  <button
                    type="button"
                    (click)="onFormSubmit()"
                    mat-button
                    class="btn addUser  tnCss"
                  >
                    Add User
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </form>
  <!-- /.content -->
</div>
